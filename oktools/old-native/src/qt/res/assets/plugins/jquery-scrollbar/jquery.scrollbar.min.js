!function(l,r,o){"use strict";function s(){if(n.webkit)return{height:0,width:0};if(!n.data.outer){var r={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};n.data.inner=l("<div>").css(l.extend({},r)),n.data.outer=l("<div>").css(l.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},r)).append(n.data.inner).appendTo("body")}return n.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(n.data.outer.offset().top-n.data.inner.offset().top||0),width:Math.ceil(n.data.outer.offset().left-n.data.inner.offset().left||0)}}function e(o,s){return l(r).on({"blur.scrollbar":function(){l(r).add("body").off(".scrollbar"),o&&o()},"dragstart.scrollbar":function(l){return l.preventDefault(),!1},"mouseup.scrollbar":function(){l(r).add("body").off(".scrollbar"),o&&o()}}),l("body").on({"selectstart.scrollbar":function(l){return l.preventDefault(),!1}}),s&&s.preventDefault(),!1}function t(l){var r=l.originalEvent;return(!r.axis||r.axis!==r.HORIZONTAL_AXIS)&&!r.wheelDeltaX}var i=!1,c=1,a="px",n={data:{},macosx:o.navigator.platform.toLowerCase().indexOf("mac")!==-1,mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(o.navigator.userAgent),scroll:null,scrolls:[],webkit:!!o.WebKitPoint,log:i?function(r,s){var e=r;s&&"string"!=typeof r&&(e=[],l.each(r,function(l,r){e.push('"'+l+'": '+r)}),e=e.join(", ")),o.console&&o.console.log?o.console.log(e):alert(e)}:function(){}},d={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!0,scrollStep:30,showArrows:!1,stepScrolling:!0,type:"simple",scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},f=function(r,e){n.scroll||(n.log("Init jQuery Scrollbar v0.2.4"),n.scroll=s(),h(),l(o).resize(function(){var l=!1;if(n.scroll&&(n.scroll.height||n.scroll.width)){var r=s();r.height==n.scroll.height&&r.width==n.scroll.width||(n.scroll=r,l=!0)}h(l)})),this.container=r,this.options=l.extend({},d,o.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},this.init(e)};f.prototype={destroy:function(){if(this.wrapper){var o=this.container.scrollLeft(),s=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:""}).removeClass("scroll-content").removeClass("scroll-scrollx_visible").removeClass("scroll-scrolly_visible").off(".scrollbar").scrollLeft(o).scrollTop(s),this.scrollx.scrollbar.removeClass("scroll-scrollx_visible").find("div").andSelf().off(".scrollbar"),this.scrolly.scrollbar.removeClass("scroll-scrolly_visible").find("div").andSelf().off(".scrollbar"),this.wrapper.remove(),l(r).add("body").off(".scrollbar"),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},getScrollbar:function(r){var o=this.options["scroll"+r],s={advanced:'<div class="scroll-element_corner"></div><div class="scroll-arrow scroll-arrow_less"></div><div class="scroll-arrow scroll-arrow_more"></div><div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_inner-wrapper">        <div class="scroll-element_inner scroll-element_track">            <div class="scroll-element_inner-bottom"></div>        </div>    </div>    <div class="scroll-bar">        <div class="scroll-bar_body">            <div class="scroll-bar_body-inner"></div>        </div>        <div class="scroll-bar_bottom"></div>        <div class="scroll-bar_center"></div>    </div></div>',simple:'<div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_track"></div>    <div class="scroll-bar"></div></div>'},e=s[this.options.type]?this.options.type:"advanced";return o=o?"string"==typeof o?l(o).appendTo(this.wrapper):l(o):l("<div>").addClass("scroll-element").html(s[e]).appendTo(this.wrapper),this.options.showArrows&&o.addClass("scroll-element_arrows_visible"),o.addClass("scroll-"+r)},init:function(o){var s=this,i=this.container,d=this.containerWrapper||i,f=l.extend(this.options,o||{}),p={x:this.scrollx,y:this.scrolly},u=this.wrapper,h={scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop()};if(n.mobile&&f.ignoreMobile||n.macosx&&!n.webkit)return!1;if(u)d.css({height:"","margin-bottom":n.scroll.height*-1+a,"margin-right":n.scroll.width*-1+a});else{if(this.wrapper=u=l("<div>").addClass("scroll-wrapper").addClass(i.attr("class")).css("position","absolute"==i.css("position")?"absolute":"relative").insertBefore(i).append(i),i.is("textarea")&&(this.containerWrapper=d=l("<div>").insertBefore(i).append(i),u.addClass("scroll-textarea")),d.addClass("scroll-content").css({height:"","margin-bottom":n.scroll.height*-1+a,"margin-right":n.scroll.width*-1+a}),i.on("scroll.scrollbar",function(r){l.isFunction(f.onScroll)&&f.onScroll.call(s,{maxScroll:p.y.maxScrollOffset,scroll:i.scrollTop(),size:p.y.size,visible:p.y.visible},{maxScroll:p.x.maxScrollOffset,scroll:i.scrollLeft(),size:p.x.size,visible:p.x.visible}),p.x.isVisible&&p.x.scroller.css("left",i.scrollLeft()*p.x.kx+a),p.y.isVisible&&p.y.scroller.css("top",i.scrollTop()*p.y.kx+a)}),u.on("scroll",function(){u.scrollTop(0).scrollLeft(0)}),f.disableBodyScroll){var b=function(l){t(l)?p.y.isVisible&&p.y.mousewheel(l):p.x.isVisible&&p.x.mousewheel(l)};u.on({"MozMousePixelScroll.scrollbar":b,"mousewheel.scrollbar":b}),n.mobile&&u.on("touchstart.scrollbar",function(o){var s=o.originalEvent.touches&&o.originalEvent.touches[0]||o,e={pageX:s.pageX,pageY:s.pageY},t={left:i.scrollLeft(),top:i.scrollTop()};l(r).on({"touchmove.scrollbar":function(l){var r=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;i.scrollLeft(t.left+e.pageX-r.pageX),i.scrollTop(t.top+e.pageY-r.pageY),l.preventDefault()},"touchend.scrollbar":function(){l(r).off(".scrollbar")}})})}l.isFunction(f.onInit)&&f.onInit.apply(this,[i])}l.each(p,function(o,a){var n=null,d=1,u="x"==o?"scrollLeft":"scrollTop",h=f.scrollStep,b=function(){var l=i[u]();i[u](l+h),1==d&&l+h>=v&&(l=i[u]()),d==-1&&l+h<=v&&(l=i[u]()),i[u]()==l&&n&&n()},v=0;a.scrollbar||(a.scrollbar=s.getScrollbar(o),a.scroller=a.scrollbar.find(".scroll-bar"),a.mousewheel=function(l){if(!a.isVisible||"x"==o&&t(l))return!0;if("y"==o&&!t(l))return p.x.mousewheel(l),!0;var r=l.originalEvent.wheelDelta*-1||l.originalEvent.detail,e=a.size-a.visible-a.offset;return v<=0&&r<0||v>=e&&r>0||(v+=r,v<0&&(v=0),v>e&&(v=e),s.scrollTo=s.scrollTo||{},s.scrollTo[u]=v,setTimeout(function(){s.scrollTo&&(i.stop().animate(s.scrollTo,240,"linear",function(){v=i[u]()}),s.scrollTo=null)},1)),l.preventDefault(),!1},a.scrollbar.on({"MozMousePixelScroll.scrollbar":a.mousewheel,"mousewheel.scrollbar":a.mousewheel,"mouseenter.scrollbar":function(){v=i[u]()}}),a.scrollbar.find(".scroll-arrow, .scroll-element_track").on("mousedown.scrollbar",function(r){if(r.which!=c)return!0;d=1;var t={eventOffset:r["x"==o?"pageX":"pageY"],maxScrollValue:a.size-a.visible-a.offset,scrollbarOffset:a.scroller.offset()["x"==o?"left":"top"],scrollbarSize:a.scroller["x"==o?"outerWidth":"outerHeight"]()},p=0,g=0;return l(this).hasClass("scroll-arrow")?(d=l(this).hasClass("scroll-arrow_more")?1:-1,h=f.scrollStep*d,v=d>0?t.maxScrollValue:0):(d=t.eventOffset>t.scrollbarOffset+t.scrollbarSize?1:t.eventOffset<t.scrollbarOffset?-1:0,h=Math.round(.75*a.visible)*d,v=t.eventOffset-t.scrollbarOffset-(f.stepScrolling?1==d?t.scrollbarSize:0:Math.round(t.scrollbarSize/2)),v=i[u]()+v/a.kx),s.scrollTo=s.scrollTo||{},s.scrollTo[u]=f.stepScrolling?i[u]()+h:v,f.stepScrolling&&(n=function(){v=i[u](),clearInterval(g),clearTimeout(p),p=0,g=0},p=setTimeout(function(){g=setInterval(b,40)},f.duration+100)),setTimeout(function(){s.scrollTo&&(i.animate(s.scrollTo,f.duration),s.scrollTo=null)},1),e(n,r)}),a.scroller.on("mousedown.scrollbar",function(s){if(s.which!=c)return!0;var t=s["x"==o?"pageX":"pageY"],n=i[u]();return a.scrollbar.addClass("scroll-draggable"),l(r).on("mousemove.scrollbar",function(l){var r=parseInt((l["x"==o?"pageX":"pageY"]-t)/a.kx,10);i[u](n+r)}),e(function(){a.scrollbar.removeClass("scroll-draggable"),v=i[u]()},s)}))}),l.each(p,function(l,r){var o="scroll-scroll"+l+"_visible",s="x"==l?p.y:p.x;r.scrollbar.removeClass(o),s.scrollbar.removeClass(o),d.removeClass(o)}),l.each(p,function(r,o){l.extend(o,"x"==r?{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:u.width()}:{offset:parseInt(i.css("top"),10)||0,size:i.prop("scrollHeight"),visible:u.height()})});var v=function(r,o){var s="scroll-scroll"+r+"_visible",e="x"==r?p.y:p.x,t=parseInt(i.css("x"==r?"left":"top"),10)||0,c=o.size,f=o.visible+t;o.isVisible=c-f>1,o.isVisible?(o.scrollbar.addClass(s),e.scrollbar.addClass(s),d.addClass(s)):(o.scrollbar.removeClass(s),e.scrollbar.removeClass(s),d.removeClass(s)),"y"==r&&(o.isVisible||o.size<o.visible)&&d.css("height",f+n.scroll.height+a),p.x.size==i.prop("scrollWidth")&&p.y.size==i.prop("scrollHeight")&&p.x.visible==u.width()&&p.y.visible==u.height()&&p.x.offset==(parseInt(i.css("left"),10)||0)&&p.y.offset==(parseInt(i.css("top"),10)||0)||(l.each(p,function(r,o){l.extend(o,"x"==r?{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:u.width()}:{offset:parseInt(i.css("top"),10)||0,size:i.prop("scrollHeight"),visible:u.height()})}),v("x"==r?"y":"x",e))};l.each(p,v),l.isFunction(f.onUpdate)&&f.onUpdate.apply(this,[i]),l.each(p,function(l,r){var o="x"==l?"left":"top",s="x"==l?"outerWidth":"outerHeight",e="x"==l?"width":"height",t=parseInt(i.css(o),10)||0,c=r.size,n=r.visible+t,d=r.scrollbar.find(".scroll-element_size");d=d[s]()+(parseInt(d.css(o),10)||0),f.autoScrollSize&&(r.scrollbarSize=parseInt(d*n/c,10),r.scroller.css(e,r.scrollbarSize+a)),r.scrollbarSize=r.scroller[s](),r.kx=(d-r.scrollbarSize)/(c-n)||1,r.maxScrollOffset=c-n}),i.scrollLeft(h.scrollLeft).scrollTop(h.scrollTop).trigger("scroll")}},l.fn.scrollbar=function(r,o){var s=this;return"get"===r&&(s=null),this.each(function(){var e=l(this);if(e.hasClass("scroll-wrapper")||"body"==e.get(0).nodeName)return!0;var t=e.data("scrollbar");if(t){if("get"===r)return s=t,!1;var i="string"==typeof r&&t[r]?r:"init";if(t[i].apply(t,l.isArray(o)?o:[]),"destroy"===r)for(e.removeData("scrollbar");l.inArray(t,n.scrolls)>=0;)n.scrolls.splice(l.inArray(t,n.scrolls),1)}else"string"!=typeof r&&(t=new f(e,r),e.data("scrollbar",t),n.scrolls.push(t));return!0}),s},l.fn.scrollbar.options=d,o.angular&&!function(l){var r=l.module("jQueryScrollbar",[]);r.directive("jqueryScrollbar",function(){return{link:function(l,r){r.scrollbar(l.options).on("$destroy",function(){r.scrollbar("destroy")})},restring:"AC",scope:{options:"=jqueryScrollbar"}}})}(o.angular);var p=0,u=0,h=function(l){var r,o,s,e,t,c,a;for(r=0;r<n.scrolls.length;r++)e=n.scrolls[r],o=e.container,s=e.options,t=e.wrapper,c=e.scrollx,a=e.scrolly,(l||s.autoUpdate&&t&&t.is(":visible")&&(o.prop("scrollWidth")!=c.size||o.prop("scrollHeight")!=a.size||t.width()!=c.visible||t.height()!=a.visible))&&(e.init(),i&&(n.log({scrollHeight:o.prop("scrollHeight")+":"+e.scrolly.size,scrollWidth:o.prop("scrollWidth")+":"+e.scrollx.size,visibleHeight:t.height()+":"+e.scrolly.visible,visibleWidth:t.width()+":"+e.scrollx.visible},!0),u++));i&&u>10?(n.log("Scroll updates exceed 10"),h=function(){}):(clearTimeout(p),p=setTimeout(h,300))}}(jQuery,document,window);
